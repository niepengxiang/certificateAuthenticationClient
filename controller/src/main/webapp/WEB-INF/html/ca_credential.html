<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="http://host/favicon.ico"type="image/x-icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../../css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div class="modal fade" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">提示框</h4>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <div class="modal-body">
            <p>内容&hellip;</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
     <div style="text-align: center;"><h2>CA机构证书链文件同步</h2></div>
	<form id="caCredentialFrom" onsubmit="return submitCaCredential()">
		<div class="input-group mb-3">
			<div class="input-group-prepend">
				<span class="input-group-text" id="inputGroup-sizing-default">认证源ID：</span>
			</div>
			<input type="text" class="form-control" aria-label="Default"
				name="authSrcId" aria-describedby="inputGroup-sizing-default"
				required>
		</div>
		<div class="input-group mb-3">
			<div class="input-group-prepend">
				<span class="input-group-text" id="inputGroup-sizing-default">请求操作：</span>
			</div>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <label class="radio-inline"> <input
				type="radio" name="reqOpt" value="i" checked>新增
			</label> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <label class="radio-inline">
				<input type="radio" name="reqOpt" value="u">更新
			</label> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <label class="radio-inline">
				<input type="radio" name="reqOpt" value="d">删除
			</label>
		</div>
		<div class="input-group mb-3">
			<div class="input-group-prepend">
				<span class="input-group-text" id="inputGroup-sizing-default">证书链ID：</span>
			</div>
			<input type="text" class="form-control" aria-label="Default"
				name="certChainId" aria-describedby="inputGroup-sizing-default"
				required>
		</div>

		<div class="input-group mb-3">
			<div class="input-group-prepend">
				<span class="input-group-text" id="inputGroup-sizing-default">证书链文件：</span>
			</div>
			<textarea class="form-control" aria-label="With textarea" required
				name="cerChainFile"></textarea>
		</div>


		<div style="text-align: center;">
			<button id="caCrentialButton" type="submit" class="btn btn-primary">提交</button>
		</div>
	</form>
	
</body>
		<!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
		
		<script type="text/javascript" src="../../js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="../../js/common.js"></script>
		<script src="../../js/bootstrap.min.js"></script>
		<script type="text/javascript">
		 	var $modal = $('#myModal');
		    function submitCaCredential(){
				$.ajax({
					url:"/data/caCredential",
					type:"post",
					data:JSON.stringify($("#caCredentialFrom").serializeObject()),
					dataType:"text",
					contentType:"application/json;charse=UTF-8",
					success: function(msg){
					  $modal.find('.modal-body p').html(msg);
					  $modal.modal({backdrop: 'static'});
					 
					}
				});
				return false;
			}
		    
		</script>
</html>